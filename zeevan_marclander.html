<html>
<head>
<title>zeevan_marclander</title>
<style type="text/css">
<!--
  :link { color: rgb(110, 0, 110); } 
  :visited { color: rgb(110, 0, 110); } 
  body { margin-left: 5px; font-family: arial, sans-serif; 
         background: white; font-size: 12pt } 
  h2 { background: rgb(166,172,255); 
       font-size: 15pt; 
       padding-left: 6px; padding-right: 6px; padding-top: 6px; 
       padding-bottom: 6px; } 
  p { margin-left: 10px; } 
  pre { margin-left: 13px; background: rgb(225,225,225); 
        font-family: monospace; padding-left: 3px; padding-right: 3px; 
        padding-top: 3px; padding-bottom: 3px; } 
-->
</style>
</head>
<body>

<p>This page was automatically generated by NetLogo 4.1.
Questions, problems?  Contact <a href="mailto:feedback@ccl.northwestern.edu">feedback@ccl.northwestern.edu</a>.</p>

<p>The applet requires Java 5 or higher.
Java must be enabled in your browser settings.
Mac users must have Mac OS X 10.4 or higher.
Windows and Linux users may obtain the latest Java from
<a href="http://java.sun.com/getjava/download.html">Sun's Java site</a>.</p>

<p><hr>

<p><font size="-1">In order for this to work, this file, your model file
(zeevan_marclander.nlogo), and the file NetLogoLite.jar
must all be in the same directory.  (You can copy NetLogoLite.jar
from the directory where you installed NetLogo.)</font></p>

<p><font size="-1">The applet will also need access to the jge extension.
Copy the entire directory for each required extension into the same
directory as the applet.</font></p>

<p><font size="-1">On some systems, you can test the applet locally on your computer
before uploading it to a web server.  It doesn't work on all systems,
though, so if it doesn't work from your hard drive, please try
uploading it to a web server.</font></p>

<p><font size="-1">You don't need to include everything in this file in your page.
If you want, you can just take the HTML code beginning with
&lt;applet&gt; and ending with &lt;/applet&gt;, and paste it into any HTML
file you want.  It's even OK to put multiple &lt;applet&gt; tags
on a single page.</font></p>

<p><font size="-1">If NetLogoLite.jar and your model are in different
directories, you must modify the archive= and value= lines
in the HTML code to point to their actual locations.
(For example, if you have multiple applets in different
directories on the same web server, you may want to put 
a single copy of NetLogoLite.jar in one central place and
change the archive= lines of all the HTML files to point
to that one central copy.  This will save disk space for
you and download time for your users.)</font></p>

<p>
<applet code="org.nlogo.lite.Applet"
        archive="NetLogoLite.jar,jge\jge.jar"
        width="1157" height="551">
  <param name="DefaultModel"
         value="zeevan_marclander.nlogo">
</applet>
</p>

<p>powered by
<a target="_blank" href="http://ccl.northwestern.edu/netlogo/">NetLogo</a></p>

<p>view/download model file:
<a href="zeevan_marclander.nlogo">zeevan_marclander.nlogo</a>
</p>
<h2>WHAT IS IT?</h2>
<p>A simulation that tries to land a moonlander as good as possible using genetic programming. The optimalisation goal is to let the moonlander land as quick as possible with as much remaining fuel as possible.</p>
<p>I have divided this goal into two sub-goals:<br>(1) Landing the moonlander as quick as possible;<br>(2) Landing the moonlander with as much remaining fuel as possible.</p>
<p>I have first tried to optimize these subgoals as much as possible, and then combined the solutions to find an optimal combination. This optimal state is relative; there is no way of knowing whether fuel is more important than time. One thing that is sure is that when one subgoal is optimally met, the other will not be. Therefore I have left the choice for an optimum as an option in the GUI.</p>
<p>-- Please not that this simulation comes with a PDF that contains several example simulations --</p><br>
<h2>HOW IT WORKS</h2>
<p>I will describe the process I went through stepwise to ground my choices.</p><br>
<h2>STEP 1. WRITING A BNF</h2>
<p>The most important thing I have found out when designing this simulation is that a genetic program is not only about the fitness function, but that the true strength is in a combination of the fitness function with the BNF.<br>The BNF defines the boundaries that a genetic algorithm can explore, while the fitness can steer the evolution of a population.<br>Therefore my BNF is also a result of several iterations of writing one, testing it, evaluating the results and writing another one. In this way, the genetic program can be seen more as a work-horse than as a solution finder; it quickly searches the optimal solution of your BNF.</p>
<p>I started off by defining the maximum boundaries of all the variables, and I took them quite broad. It doesn't matter if (for example) 10% of the search space has no value, since a proper fitness function will filter them out. These were the start values:</p>
<p>velocity: 0 - 0.5<br>fuel: 0-80<br>time: 100-500<br>height: 0-30</p>
<p>The first BNF is called BNF-First.txt (BNFs can be found in the folder &quot;BNF&quot;).</p>
<p>After doing several tests, I found out that in all the optimal solutions (both in fuel as in time), the variables &lt;fuel&gt; and &lt;time&gt; where missing! Apparently, they play no important role in a program that succesfully lands the moonlander. Therefore, I removed them from the BNF.</p>
<p>From this point on, I started to find optima for my subgoals, which led to two different BNFs. I did this by playing around with the first BNF, and everytime I found a good solution I altered the fitness function a little (see below of an explanation of the fitness function), together with the BNF. This finally let to the BNF for fuel optimalisation (BNF-Fuel.txt) and time optimalisation (BNF-Time.txt).</p>
<p>The final step of finding an optima for the overall goal was simple; putting the BNFs together! Actually there was only one rule that needed to be concatenated:</p>
<p>(BNFMoonlanderTime.txt)<br>&lt;var&gt; ::= velocity 0.00&lt;digit&gt; | height &lt;digit&gt;.&lt;digit05&gt;&lt;digit&gt;</p>
<p>(BNFMoonlanderFuel.txt)<br>&lt;var&gt; ::= velocity 0.0&lt;digit05&gt; | height &lt;digit&gt;.&lt;digit02&gt;&lt;digit05&gt;</p>
<p>led to:</p>
<p>(BNFMoonlanderFinal.txt)<br>&lt;var&gt; ::= velocity 0.00&lt;digit&gt; | height &lt;digit&gt;.&lt;digit05&gt;&lt;digit&gt; | velocity 0.0&lt;digit05&gt; | height &lt;digit&gt;.&lt;digit02&gt;&lt;digit05&gt;</p>
<p>Now with these expressions, the BNF is specialized in optima for fuel and time, but nothing in between. As I said before, time and fuel are fighting for fitness: using little fuel costs time and a short time costs a lot of fuel. Therefore the maximum of these two values should lie somewhere inbetween. This means that the BNF should also accept values inbetween, so I also added:</p>
<p>velocity 0.0&lt;digit05&gt;&lt;digit&gt; | height &lt;digit&gt;.&lt;digit05&gt;&lt;digit&gt;</p>
<p>to the BNF, which can represent all the values between the two extremes.</p><br>
<h2>STEP 2. WRITING A FITNESS FUNCTION</h2>
<p>Because of the empirical character of my simulation, I wanted to be able to alter the values of the fitness function while I was simulating. Therefore, the first version of my fitness function (that I used to find optima for both subgoals) contained the variables &lt;velocity&gt;, &lt;time&gt; and &lt;fuel&gt; which all could be altered used sliders ranging from 0 to 100:</p>
<p>let vel velocity-weight * (1 - velocity * 2)<br>let fue fuel-weight * fuel / 80 <br>let tim time-weight * (1 - (time - 100) / 500)</p>
<p>let fit vel + fue + tim</p>
<p>if crashed = true [ <br>  set fit (fit * 0.25)<br>]</p>
<p>I used this fitness function to find the optima for fuel and time. Once I knew these optima, I was able to narrow the values of my fitness function down. See the code for a more detailed description on how the fitness function finally looks and why.</p><br>
<h2>STEP 3. WRITING A GENETIC ALGORITHM</h2>
<p>I used the tournament pool instead of fitness proportional selection. The tournament pool is described in the dictate by Marco Wiering (Chapter 3. Eolutionary Computation p.54). I used this because it is more easy to implement, and I consider it an elegant solution.<br>It also solves several problems that arise when using fitness proportional selection:<br>- danger of premature convergence, since good individuals with a much larger fitness<br>  can quickly take over the whole population.<br>- little selection pressure if the values all lie close to each other</p>
<p>First a population of a number of individuals (chosen by the user) is created, and filtered from not working programs (meaning they contain non-terminals of the BNF). Then the population will evolve over a number of generations determined in the interface. At every step, the fitness of every individual will be determined and saved in a seperate list. A new population is then generated using the tournament pools. The tournament pool consists of three randomly chosen individuals from the population and saves the most fit one in the new population. This is iterated for the number of inidividuals in the population. Finally, the mutation and crossover function supplied by JGE are applied to the generation. This is repeated until the generation max has been reached. </p>
<p>The bitstring of the most fit individual is saved, together with the fitness value and the generation it was born.</p><br>
<h2>HOW TO USE IT</h2>
<p>The following elements can be set in the interface:</p>
<p>- generations &amp; population-size.<br>For a good and solid optimum, use a population size of 300-500 and let it run for 50 generations. In this way, the graph also shows a clear pattern. Results can also be achieved with lower values, but they are not garantueed to find an optimum. Still, the results are often fine with a population of 150.</p>
<p>For the quickest landing, set population to 500+ and set time-weight and fuel-weight to 1.</p>
<p>- mutation &amp; crossover propability<br>I used a mutation value of 5-10% and a crossover rate of 75%. Mutation stands for exploration and crossover for exploitation. Since I have specialized my BNF to a very big extend, I don't need a lot of exploring. In stead, I need to exploit the possibilities of the BNF a lot.</p>
<p>- time-weight &amp; fuel-weight<br>Set to which value the algorithm should optimize. Notice that when both the values are set to 1, there is a big change that the optimum will lie at one of the two values (meaning, a very low time or a very high fuel), completely wiping out the other value.</p>
<p>This has two reasons:<br>[1] The fitness of one value is equal to the sum of the two. There are basically three optimum: (low time) (low fuel) (both half). It can happen that the simulation falls in one of the three. This can be solved by altering the fitness function. For example; multiplying the values of time and fuel, giving them a higher value when put together.<br>[2] The crossover/mutation value. As said, my simulation does a lot of exploitation and therefore has the risk of fallen into a local optimum quickly. This can be solved by changing the mutation and crossover values.</p>
<p>- BNF-File: choose a file that I have previously used. But for the simulation to work correctly, choose &quot;BNF-Final.txt&quot;.</p>
<p>- Test-genome button: simulate the current max-gen.</p>
<p>- Plot-options: turn off to make the simulation go faster.</p>
<p>The graph shows the fitness of every gen in black and the maximal fitness so far in red.</p><br>
<h2>THINGS TO NOTICE</h2>
<p>I have included a PDF where I shortly describe several outcomes of the simulation.<br>It is included in the direction of this file (simulations.pdf).</p>
<p>It is also interesting to play around with the different BNF files. BNF-First.txt clearly shows different results than my final BNF, which I find very pleasing.</p><br>
<h2>EXTENDING THE MODEL</h2>
<p>The fitness function could be optimized to work better when combining fuel and time, and so to find a maximum. Currently it falls into an optimum of one of the two too often.</p><br>
<h2>NETLOGO FEATURES</h2>
<p>JGE genetic programming algorithm.</p><br>
<h2>RELATED MODELS</h2><br>
<h2>CREDITS AND REFERENCES</h2>
<p>Marc van Zee / F093385</p><br>
<h2>PROCEDURES</h2>
<pre><font color="#5a5a5a">; Implementation of a genetic algorithm to land a moonlander.</font><font color="#000000">
</font><font color="#5a5a5a">; Originally proposed by Max Knobbout</font><font color="#000000">

</font><font color="#5a5a5a">; Implementation by</font><font color="#000000">
</font><font color="#5a5a5a">; Marc van Zee - marcvanzee@hotmail.com</font><font color="#000000">
</font><font color="#5a5a5a">; University of Utrecht / Artificial Intelligence</font><font color="#000000">

</font><font color="#5a5a5a">; please read the information section for a description of the approach.</font><font color="#000000">
</font><font color="#5a5a5a">; the comments in this code are purely about the flow of the program, except for the fitness function</font><font color="#000000">

</font><font color="#5a5a5a">; include Genetic Algorithm extension</font><font color="#000000">
</font><font color="#007f69">extensions</font><font color="#000000"> [jge]

</font><font color="#5a5a5a">; globals:</font><font color="#000000">
</font><font color="#5a5a5a">; velocity/height/fuel/time/crashed:                variables about the state of the current moonlander</font><font color="#000000">
</font><font color="#5a5a5a">; population:                              number - current size of the population</font><font color="#000000">
</font><font color="#5a5a5a">; fitness:                                 list   - containing the fitness values of all the gens</font><font color="#000000">
</font><font color="#5a5a5a">; generation:                              number - what generation we are currently in</font><font color="#000000">
</font><font color="#5a5a5a">; max-generation:                          number - in what generation the most succesful gen was found</font><font color="#000000">
</font><font color="#5a5a5a">; max-fitness:                             number - most succesful fitness so far</font><font color="#000000">

</font><font color="#007f69">globals</font><font color="#000000"> [ velocity height thrusting fuel time crashed population fitness generation max-generation max-fitness]
</font><font color="#660096">breed</font><font color="#000000"> [rockets rocket]
</font><font color="#660096">breed</font><font color="#000000"> [stars star]

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [GO]: main procedure to start the genetic algorithm</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> go
  </font><font color="#5a5a5a">; set all maxima to 0</font><font color="#000000">
  reset-max-values
  
  </font><font color="#5a5a5a">; loop through the generations with a max set by the user</font><font color="#000000">
  </font><font color="#0000aa">while</font><font color="#000000"> [generation </font><font color="#660096">&lt;</font><font color="#000000"> generations] [
    </font><font color="#5a5a5a">; let all the gens run in the background</font><font color="#000000">
    simulate-population
 
    </font><font color="#5a5a5a">; create a tournament-pool as a fitness-proportional selection</font><font color="#000000">
    tournament-pool
    
    </font><font color="#5a5a5a">; now we have the tournament-pool, we are going to select two</font><font color="#000000">
    </font><font color="#5a5a5a">; individuals every time and decide what to do with them</font><font color="#000000">
    </font><font color="#5a5a5a">; after this, they will be added to the new-population until its the </font><font color="#000000">
    </font><font color="#5a5a5a">; same size as the current one.</font><font color="#000000">
    </font><font color="#0000aa">let</font><font color="#000000"> new-population []
  
    </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">length</font><font color="#000000"> new-population </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> population] [
      </font><font color="#5a5a5a">; pick two individuals</font><font color="#000000">
      </font><font color="#5a5a5a">; note that there are two members of the population added every time.</font><font color="#000000">
      </font><font color="#5a5a5a">; this could potentially be dangerous, but the value of population</font><font color="#000000">
      </font><font color="#5a5a5a">; in the interface can only be increased by 2 and starts with 0.</font><font color="#000000">
      </font><font color="#5a5a5a">; in this way, it is safe to select two individuals every time.</font><font color="#000000">
      </font><font color="#0000aa">let</font><font color="#000000"> parents (</font><font color="#660096">list</font><font color="#000000"> (</font><font color="#660096">item</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> new-population population)
                        (</font><font color="#660096">item</font><font color="#000000"> ((</font><font color="#660096">length</font><font color="#000000"> new-population) </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) population))
   
      </font><font color="#5a5a5a">; decide what we are going to do with them, this can be three things:</font><font color="#000000">
      </font><font color="#5a5a5a">; - copy (do nothing);</font><font color="#000000">
      </font><font color="#5a5a5a">; - mutate</font><font color="#000000">
      </font><font color="#5a5a5a">; - cross-over</font><font color="#000000">
      
      </font><font color="#0000aa">let</font><font color="#000000"> choose </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000">
   
      </font><font color="#5a5a5a">; choose = 0 =&gt; copy</font><font color="#000000">
   
      </font><font color="#0000aa">if</font><font color="#000000"> choose </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [ </font><font color="#5a5a5a">; mutate</font><font color="#000000">
        </font><font color="#5a5a5a">; mutate with a probability set by the user.</font><font color="#000000">
        </font><font color="#5a5a5a">; muliply by three because there is a 1/3 change of mutation</font><font color="#000000">
        </font><font color="#0000aa">let</font><font color="#000000"> mutated (</font><font color="#660096">list</font><font color="#000000"> (</font><font color="#660096">jge:mutation</font><font color="#000000"> (</font><font color="#660096">item</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> parents) (p-mutation </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000">))
                          (</font><font color="#660096">jge:mutation</font><font color="#000000"> (</font><font color="#660096">item</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> parents) (p-mutation </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000">)))
     
        </font><font color="#0000aa">set</font><font color="#000000"> parents mutated
      ]
      </font><font color="#0000aa">if</font><font color="#000000"> choose </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">[ </font><font color="#5a5a5a">; crossover</font><font color="#000000">
        </font><font color="#5a5a5a">; cross-over</font><font color="#000000">
     
        </font><font color="#5a5a5a">; same as mutation</font><font color="#000000">
        </font><font color="#0000aa">let</font><font color="#000000"> children </font><font color="#660096">jge:crossover</font><font color="#000000"> (</font><font color="#660096">item</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> parents) (</font><font color="#660096">item</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> parents) (p-crossover </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000">)
        </font><font color="#0000aa">set</font><font color="#000000"> parents children
      ]
   
      </font><font color="#5a5a5a">; add the (altered) parents to the new population.</font><font color="#000000">
      </font><font color="#0000aa">set</font><font color="#000000"> new-population </font><font color="#660096">fput</font><font color="#000000"> (</font><font color="#660096">item</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> parents) new-population
      </font><font color="#0000aa">set</font><font color="#000000"> new-population </font><font color="#660096">fput</font><font color="#000000"> (</font><font color="#660096">item</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> parents) new-population
    
    ]
    </font><font color="#5a5a5a">; update the population can go on to the next generation</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> population new-population
    </font><font color="#0000aa">set</font><font color="#000000"> generation (generation </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) 
  ]
  
  </font><font color="#5a5a5a">; when finished, visualize the best gen</font><font color="#000000">
  graph max-gen </font><font color="#963700">false</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [SETUP]: setup and draw world</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> setup
  </font><font color="#5a5a5a">; Default shape for rockets</font><font color="#000000">
  </font><font color="#0000aa">set-default-shape</font><font color="#000000"> rockets </font><font color="#963700">&quot;lander 2&quot;</font><font color="#000000">
  </font><font color="#0000aa">set-default-shape</font><font color="#000000"> stars </font><font color="#963700">&quot;dot&quot;</font><font color="#000000">
  
  </font><font color="#5a5a5a">; Clear all</font><font color="#000000">
  </font><font color="#0000aa">ca</font><font color="#000000">
  </font><font color="#5a5a5a">; Draw the ground</font><font color="#000000">
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> ] [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> ]
  </font><font color="#5a5a5a">; Draw the stars</font><font color="#000000">
  create-stars </font><font color="#963700">20</font><font color="#000000"> [
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000">
    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">28</font><font color="#000000">
  ]
  
  </font><font color="#5a5a5a">; load in a grammar, selected by the user</font><font color="#000000">
  </font><font color="#0000aa">jge:load-bnf</font><font color="#000000"> (</font><font color="#660096">word</font><font color="#000000"> </font><font color="#963700">&quot;BNF/&quot;</font><font color="#000000"> BNF-file) </font><font color="#963700">&quot;grammar&quot;</font><font color="#000000">

  </font><font color="#0000aa">let</font><font color="#000000"> one </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#0000aa">let</font><font color="#000000"> action </font><font color="#963700">&quot;&quot;</font><font color="#000000">
  
  generate-population
  </font><font color="#0000aa">set</font><font color="#000000"> generation </font><font color="#963700">0</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [RESET-WORLD]: argument depicts whether or not the simulation is hidden or displayed</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> reset-world [hidden]
  </font><font color="#0000aa">ask</font><font color="#000000"> rockets [ </font><font color="#0000aa">die</font><font color="#000000"> ]
  </font><font color="#5a5a5a">; Create the rocket</font><font color="#000000">
  create-rockets </font><font color="#963700">1</font><font color="#000000"> [
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">32</font><font color="#000000">
    </font><font color="#0000aa">if-else</font><font color="#000000"> (hidden) [ </font><font color="#0000aa">ht</font><font color="#000000"> ] [ </font><font color="#0000aa">pd</font><font color="#000000"> ]
  ]
  </font><font color="#0000aa">set</font><font color="#000000"> velocity </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> height </font><font color="#963700">28</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> thrusting </font><font color="#963700">false</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> fuel </font><font color="#963700">80</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> time </font><font color="#963700">0</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [THRUST]: Methods for the genetic program</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> thrust-on
  </font><font color="#0000aa">if</font><font color="#000000"> (fuel </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> thrusting </font><font color="#963700">true</font><font color="#000000"> ]
</font><font color="#007f69">end</font><font color="#000000">
</font><font color="#007f69">to</font><font color="#000000"> thrust-off
  </font><font color="#0000aa">set</font><font color="#000000"> thrusting </font><font color="#963700">false</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [SIMULATION]: the first argument is a string depicting the actual program of the rocket,</font><font color="#000000">
</font><font color="#5a5a5a">;=========               the second is a boolean stating whether or not the simulation is hidden</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> simulate [prog hidden]
  reset-world hidden
  </font><font color="#0000aa">let</font><font color="#000000"> done </font><font color="#963700">false</font><font color="#000000">
  </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">not</font><font color="#000000"> done] [
    </font><font color="#0000aa">ask</font><font color="#000000"> rockets [
      </font><font color="#5a5a5a">; Run prog generated by genetic algorithm</font><font color="#000000">
      </font><font color="#0000aa">run</font><font color="#000000"> prog
      
      </font><font color="#5a5a5a">; Increase velocity with 1.63 m/s^2</font><font color="#000000">
      </font><font color="#0000aa">set</font><font color="#000000"> velocity velocity </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">0.00163</font><font color="#000000">
      </font><font color="#5a5a5a">; Update height (in km)</font><font color="#000000">
      </font><font color="#0000aa">set</font><font color="#000000"> height </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
      
      </font><font color="#0000aa">if</font><font color="#000000"> (thrusting) [
        </font><font color="#5a5a5a">; Decrease velocity with 5 m/s^2</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> velocity velocity </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">0.005</font><font color="#000000">
        </font><font color="#5a5a5a">; Decrease fuel with 1L</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> fuel fuel </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
        </font><font color="#0000aa">if</font><font color="#000000"> (fuel </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [ thrust-off ]
      ]
      </font><font color="#5a5a5a">; Update time</font><font color="#000000">
      </font><font color="#0000aa">set</font><font color="#000000"> time time </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
      
      </font><font color="#5a5a5a">; Horizontal movement is 100 m/s^2 (to display curve)   </font><font color="#000000">
      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">0.1</font><font color="#000000">
      </font><font color="#0000aa">let</font><font color="#000000"> nexth height </font><font color="#660096">-</font><font color="#000000"> velocity
    
      </font><font color="#0000aa">if-else</font><font color="#000000"> (nexth </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [
        </font><font color="#5a5a5a">; The ship can either crash, bounce or land</font><font color="#000000">
        </font><font color="#0000aa">if-else</font><font color="#000000"> (velocity </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0.05</font><font color="#000000">) [
          </font><font color="#5a5a5a">; Crash</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> crashed </font><font color="#963700">true</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> height </font><font color="#963700">0</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> done </font><font color="#963700">true</font><font color="#000000">
        ] [
          </font><font color="#0000aa">if-else</font><font color="#000000"> (velocity </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0.01</font><font color="#000000">) [
            </font><font color="#5a5a5a">; Bounce with 20% absorption of the velocity</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> velocity </font><font color="#963700">-0.8</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> velocity
          ] [
            </font><font color="#5a5a5a">; Land</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> crashed </font><font color="#963700">false</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> height </font><font color="#963700">0</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> done </font><font color="#963700">true</font><font color="#000000">
          ]
        ]
      ] [
        </font><font color="#0000aa">if</font><font color="#000000"> (nexth </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">28</font><font color="#000000">) [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> velocity ]
      ]
    ]
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= These are here because the &lt; and &gt; symbols are not allowed in the BNF grammar.</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> smaller-than [a b]
  </font><font color="#0000aa">report</font><font color="#000000"> (a </font><font color="#660096">&lt;</font><font color="#000000"> b)
</font><font color="#007f69">end</font><font color="#000000">
</font><font color="#007f69">to-report</font><font color="#000000"> greater-than [a b]
  </font><font color="#0000aa">report</font><font color="#000000"> (a </font><font color="#660096">&gt;</font><font color="#000000"> b)
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [CURRENT-FITNESS]: fitness-function</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> current-fitness
  </font><font color="#5a5a5a">; give the velocity a weight that depends on the time and fuel weight. those are both</font><font color="#000000">
  </font><font color="#5a5a5a">; adjustable in the interface, and the velocity will be the sum of them.</font><font color="#000000">
  
  </font><font color="#0000aa">let</font><font color="#000000"> velocity-weight time-weight </font><font color="#660096">+</font><font color="#000000"> fuel-weight
  
  </font><font color="#0000aa">let</font><font color="#000000"> fit </font><font color="#963700">0</font><font color="#000000">
  
  </font><font color="#5a5a5a">; when we crash, the velocity will be our only fitness, since this is the most</font><font color="#000000">
  </font><font color="#5a5a5a">; important variable that should change.</font><font color="#000000">
  
  </font><font color="#0000aa">ifelse</font><font color="#000000"> velocity </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0.05</font><font color="#000000"> [ </font><font color="#5a5a5a">; crash</font><font color="#000000">
    
    </font><font color="#5a5a5a">; the maximum fitness of a crashed moonlander is 0.1</font><font color="#000000">
    </font><font color="#5a5a5a">; the values of the velocity can range between 0.05 and 0.3 (empirical result)</font><font color="#000000">
    </font><font color="#5a5a5a">; therefore the range of the velocity is 0.3 - 0.05 = 0.25</font><font color="#000000">
    </font><font color="#5a5a5a">; 0.25 * 0.2 = 0.1</font><font color="#000000">
    </font><font color="#5a5a5a">;</font><font color="#000000">
    </font><font color="#5a5a5a">;   0.1 - (velicty - 0.05)*0.2</font><font color="#000000">
    </font><font color="#5a5a5a">; = 0.12 - 0.4 * velocity</font><font color="#000000">
    
    </font><font color="#0000aa">set</font><font color="#000000"> fit velocity-weight </font><font color="#660096">*</font><font color="#000000"> (</font><font color="#963700">0.12</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">0.4</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> velocity)
    
  ] [
  
    </font><font color="#5a5a5a">; if the moonlander doesnt crash, the time and fuel are important too.</font><font color="#000000">
    </font><font color="#5a5a5a">; first the velocity, it can range between 0.00 and 0.05, simply add it</font><font color="#000000">
    </font><font color="#5a5a5a">; and multiply by 10 (range becomes 0.0 - 0.5)</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> fit (fit </font><font color="#660096">+</font><font color="#000000"> velocity-weight </font><font color="#660096">*</font><font color="#000000"> velocity </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">)
    
    </font><font color="#5a5a5a">; the time can range between 125 and 500 (empirical result)</font><font color="#000000">
    </font><font color="#5a5a5a">; let values range between 0 and 1, multiplied with the weight</font><font color="#000000">
    </font><font color="#5a5a5a">; </font><font color="#000000">
    </font><font color="#5a5a5a">;   1 - (time - 125) / 500</font><font color="#000000">
    </font><font color="#5a5a5a">; = 1.25 - time / 500</font><font color="#000000">
   
    </font><font color="#0000aa">set</font><font color="#000000"> fit (fit </font><font color="#660096">+</font><font color="#000000"> time-weight </font><font color="#660096">*</font><font color="#000000"> (</font><font color="#963700">1.25</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> time </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">500</font><font color="#000000">))
    
    </font><font color="#5a5a5a">; the maximum fuel when landing is 20 (empirical result)</font><font color="#000000">
    </font><font color="#5a5a5a">; same for time: let it range between 0 and 1, multiplied by weight</font><font color="#000000">
    
    </font><font color="#0000aa">if</font><font color="#000000"> fuel </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> fuel </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">20</font><font color="#000000"> [
      </font><font color="#0000aa">set</font><font color="#000000"> fit (fit </font><font color="#660096">+</font><font color="#000000"> fuel-weight </font><font color="#660096">*</font><font color="#000000"> (fuel </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">20</font><font color="#000000">))
    ]
  ]

  </font><font color="#0000aa">report</font><font color="#000000"> fit
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [GENERATE-POPULATION]: create a population with valid genomes.</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> generate-population
  </font><font color="#0000aa">set</font><font color="#000000"> population []
  
  </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">length</font><font color="#000000"> population </font><font color="#660096">&lt;</font><font color="#000000"> population-size] [
    </font><font color="#0000aa">let</font><font color="#000000"> one </font><font color="#660096">jge:individual</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> </font><font color="#963700">40</font><font color="#000000">
    </font><font color="#0000aa">let</font><font color="#000000"> action </font><font color="#660096">jge:phenotype</font><font color="#000000"> one </font><font color="#963700">&quot;grammar&quot;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">
    
    </font><font color="#5a5a5a">; dont accept not working genomes in initial population</font><font color="#000000">
    </font><font color="#5a5a5a">; note that this check is not being performed during the evolution.</font><font color="#000000">
    </font><font color="#5a5a5a">; the reason is trivial; not working genomes may still possess useful</font><font color="#000000">
    </font><font color="#5a5a5a">; code that might become useful again in a cross-over or a mutation.</font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> action </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> population </font><font color="#660096">lput</font><font color="#000000"> one population ]
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [SIMULATE-POPULATION]: let all genomes of this population run in the background</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> simulate-population
 </font><font color="#0000aa">let</font><font color="#000000"> len </font><font color="#660096">length</font><font color="#000000"> population </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
 </font><font color="#0000aa">let</font><font color="#000000"> action </font><font color="#963700">&quot;&quot;</font><font color="#000000"> 

 </font><font color="#0000aa">set</font><font color="#000000"> fitness []
  
 </font><font color="#0000aa">while</font><font color="#000000"> [len </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">] [
   </font><font color="#0000aa">let</font><font color="#000000"> gen </font><font color="#660096">item</font><font color="#000000"> len population
   </font><font color="#0000aa">set</font><font color="#000000"> action </font><font color="#660096">jge:phenotype</font><font color="#000000"> gen </font><font color="#963700">&quot;grammar&quot;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">
   simulate action </font><font color="#963700">true</font><font color="#000000">
   
   </font><font color="#5a5a5a">; add the fitness to the list of fitness functions</font><font color="#000000">
   </font><font color="#0000aa">let</font><font color="#000000"> f current-fitness
   </font><font color="#0000aa">set</font><font color="#000000"> fitness </font><font color="#660096">fput</font><font color="#000000"> f fitness
   
   </font><font color="#5a5a5a">; change the best gen if it is better   </font><font color="#000000">
   update-max-gen gen f
   
   plot-values f
   
   </font><font color="#5a5a5a">; go to the next gen in the population</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> len (len </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">)
 ]
 
 </font><font color="#5a5a5a">; plot the best gen of this population</font><font color="#000000">
 graph max-gen </font><font color="#963700">false</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [TOURNAMENT-POOL]: a fitness proportional selection method</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> tournament-pool
  </font><font color="#5a5a5a">; tournament-method</font><font color="#000000">
  </font><font color="#5a5a5a">; select three random individuals from the population</font><font color="#000000">
  </font><font color="#5a5a5a">; then choose the best one. put this into the new population</font><font color="#000000">
  
  </font><font color="#0000aa">let</font><font color="#000000"> new-population []
  </font><font color="#0000aa">let</font><font color="#000000"> len </font><font color="#660096">length</font><font color="#000000"> population

  </font><font color="#0000aa">while</font><font color="#000000"> [</font><font color="#660096">length</font><font color="#000000"> new-population </font><font color="#660096">&lt;</font><font color="#000000"> len] [
    </font><font color="#5a5a5a">; generate three individuals       </font><font color="#000000">
    </font><font color="#0000aa">let</font><font color="#000000"> tournament (</font><font color="#660096">list</font><font color="#000000"> (</font><font color="#660096">item</font><font color="#000000"> (</font><font color="#660096">random</font><font color="#000000"> len) fitness)
                         (</font><font color="#660096">item</font><font color="#000000"> (</font><font color="#660096">random</font><font color="#000000"> len) fitness)
                         (</font><font color="#660096">item</font><font color="#000000"> (</font><font color="#660096">random</font><font color="#000000"> len) fitness))

    </font><font color="#5a5a5a">; choose the best gen</font><font color="#000000">
    </font><font color="#0000aa">let</font><font color="#000000"> num </font><font color="#660096">position</font><font color="#000000"> (</font><font color="#660096">max</font><font color="#000000"> tournament) fitness   
    </font><font color="#0000aa">set</font><font color="#000000"> new-population </font><font color="#660096">lput</font><font color="#000000"> (</font><font color="#660096">item</font><font color="#000000"> num population) new-population
  ]
  
  </font><font color="#5a5a5a">; when the new population has been filled, replace the current one</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> population new-population
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [GRAPH]: method to simulate a run of a gen with possible feedback</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> graph [gen show-results]
  </font><font color="#0000aa">let</font><font color="#000000"> action </font><font color="#660096">jge:phenotype</font><font color="#000000"> gen </font><font color="#963700">&quot;grammar&quot;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">
  simulate action </font><font color="#963700">false</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> show-results [
    </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#660096">word</font><font color="#000000"> </font><font color="#963700">&quot;code: &quot;</font><font color="#000000"> action
    </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#660096">word</font><font color="#000000"> </font><font color="#963700">&quot;fitness: &quot;</font><font color="#000000"> current-fitness
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [RESET-MAX-VALUES]</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> reset-max-values
  </font><font color="#0000aa">set</font><font color="#000000"> max-gen </font><font color="#963700">&quot;0&quot;</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> max-fitness </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> max-generation </font><font color="#963700">0</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [PLOT-VALUES]: can be set in the interface</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> plot-values [gen]
  </font><font color="#0000aa">if</font><font color="#000000"> plot-options </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;plot-all&quot;</font><font color="#000000"> [
     </font><font color="#0000aa">set-current-plot-pen</font><font color="#000000"> </font><font color="#963700">&quot;gen-fitness&quot;</font><font color="#000000">
     </font><font color="#0000aa">plot</font><font color="#000000"> gen
  ]
   
  </font><font color="#0000aa">if</font><font color="#000000"> plot-options </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">&quot;plot-none&quot;</font><font color="#000000"> [
    </font><font color="#0000aa">set-current-plot-pen</font><font color="#000000"> </font><font color="#963700">&quot;max-fitness&quot;</font><font color="#000000">
    </font><font color="#0000aa">plot</font><font color="#000000"> max-fitness
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [UPDATE-MAX-GEN]</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> update-max-gen [gen f]
  </font><font color="#0000aa">if</font><font color="#000000"> f </font><font color="#660096">&gt;</font><font color="#000000"> max-fitness [ 
    </font><font color="#0000aa">set</font><font color="#000000"> max-gen gen 
    </font><font color="#0000aa">set</font><font color="#000000"> max-fitness f
    </font><font color="#0000aa">set</font><font color="#000000"> max-generation generation 
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;=========</font><font color="#000000">
</font><font color="#5a5a5a">;========= [TEST-GENOME]: button to set the current max-gen</font><font color="#000000">
</font><font color="#5a5a5a">;=========</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> test-genome
  graph max-gen </font><font color="#963700">true</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">
</font>
</pre>

</body>
</html>
